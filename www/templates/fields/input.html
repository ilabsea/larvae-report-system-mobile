<label class='item-input-inset item-stacked-label'>
  <div class='input-label'>{{field.name}}
    <span ng-if="field.required" ng-class="{'error' : field.required}"> * </span>
  </div>
  <div class="item-input-wrapper"
      ng-class="{ 'has-errors' : formSite['{{field.field_id}}'].$invalid &&
        (formSite['{{field.field_id}}'].$touched ||!customValidate(field.field_id))}">
    <input class="item-input-wrapper" type="tel" name='{{field.field_id}}'
      string-to-number
      ng-if='field.type == "number" && field.config.allows_decimals == "true"'
      ng-readonly='canReadOnlyLayer || field.readonly'
      ng-required='{{field.required}}' ng-model="site.properties[field.field_id]"
      ng-change='!dependFields[field.field_id] || prepareCalculationFields()'>

    <input class="item-input-wrapper" type="{{field.type}}" name='{{field.field_id}}'
      ng-if='(field.type != "text" && (field.type == "number" && field.config.allows_decimals == "false"))
            || field.kind == "calculation"'
      ng-readonly='canReadOnlyLayer || field.readonly'
      ng-required='{{field.required}}' ng-model="site.properties[field.field_id]"
      ng-change='!dependFields[field.field_id] || prepareCalculationFields()'>

    <textarea ng-if='field.type == "text" && field.kind != "calculation"'
      class="item-input-wrapper" style='background-color: #EEE'
      rows="1" msd-elastic
      name='{{field.field_id}}'
      ng-readonly='canReadOnlyLayer || field.readonly'
      ng-required='{{field.required}}' ng-model="site.properties[field.field_id]"
      ng-change='!dependFields[field.field_id] || prepareCalculationFields()'></textarea>
  </div>
  <div class="error-message"
       ng-show="formSite['{{field.field_id}}'].$invalid && (formSite['{{field.field_id}}'].$touched ||!customValidate(field.field_id))"
       ng-messages="formSite['{{field.field_id}}'].$error">
     <div ng-message="required">This field is required!
     </div>
     <div ng-message="email">Field email is invalid</div>
  </div>
</label>
